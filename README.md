# å¥åº·æ™ºæŠ¤ - ä¸ªäººå¥åº·åŠ¨æ€ç®¡ç†ç³»ç»Ÿ

<p align="center">
  <img src="docs/images/logo.png" alt="å¥åº·æ™ºæŠ¤ Logo" width="200">
</p>

<p align="center">
  <strong>HealthSmart - Personal Health Dynamic Management System</strong>
</p>

<p align="center">
  <a href="#é¡¹ç›®æ¦‚è¿°">é¡¹ç›®æ¦‚è¿°</a> â€¢
  <a href="#åŠŸèƒ½ç‰¹æ€§">åŠŸèƒ½ç‰¹æ€§</a> â€¢
  <a href="#æŠ€æœ¯æ¶æ„">æŠ€æœ¯æ¶æ„</a> â€¢
  <a href="#å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a> â€¢
  <a href="#é¡¹ç›®ç»“æ„">é¡¹ç›®ç»“æ„</a> â€¢
  <a href="#apiæ–‡æ¡£">APIæ–‡æ¡£</a>
</p>

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
3. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
4. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
5. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
6. [APIæ–‡æ¡£](#apiæ–‡æ¡£)
7. [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
8. [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
9. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
10. [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)
11. [è®¸å¯è¯](#è®¸å¯è¯)

---

## é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®èƒŒæ™¯

**å¥åº·æ™ºæŠ¤ï¼ˆHealthSmartï¼‰** æ˜¯ä¸€æ¬¾åŸºäºWindowså¹³å°çš„ä¸ªäººå¥åº·åŠ¨æ€ç®¡ç†ç³»ç»Ÿï¼Œèšç„¦äº**"æœˆåº¦è§„åˆ’-æ—¥å¸¸æ‰§è¡Œ-å®æ—¶åé¦ˆ"**çš„å¥åº·ç®¡ç†é—­ç¯ã€‚

ç°ä»£éƒ½å¸‚äººç¾¤é¢ä¸´å·¥ä½œå‹åŠ›å¤§ã€æ—¶é—´ç´§å¼ ç­‰æŒ‘æˆ˜ï¼Œéš¾ä»¥ç³»ç»ŸåŒ–ç®¡ç†è‡ªèº«å¥åº·ã€‚æœ¬ç³»ç»Ÿæ—¨åœ¨å¸®åŠ©ç”¨æˆ·ï¼š
- ğŸ“Š ç§‘å­¦åŒ–å¥åº·æ•°æ®åˆ†æ
- ğŸ“… ä¸ªæ€§åŒ–æœˆåº¦è®¡åˆ’ç”Ÿæˆ
- ğŸ”” æ™ºèƒ½åŒ–æ¯æ—¥æé†’æ¨é€
- ğŸ“ˆ å¯è§†åŒ–å¥åº·è¿›åº¦è¿½è¸ª

### 1.2 æ ¸å¿ƒä»·å€¼

| ä»·å€¼ä¸»å¼  | æè¿° |
|---------|------|
| **å†³ç­–å‡è´Ÿ** | é€šè¿‡è‡ªåŠ¨åŒ–ã€ä¸ªæ€§åŒ–æ–¹æ¡ˆç”Ÿæˆï¼Œé™ä½ç”¨æˆ·è§„åˆ’å¥åº·ç”Ÿæ´»çš„æ—¶é—´æˆæœ¬ |
| **ç§‘å­¦å¼•å¯¼** | åŸºäºã€Šä¸­å›½å±…æ°‘è†³é£ŸæŒ‡å—2022ã€‹çš„ç§‘å­¦è§„åˆ™ï¼Œæä¾›ä¸“ä¸šå»ºè®® |
| **æŒç»­é™ªä¼´** | æ¯æ—¥æ¸©å’Œçš„äº¤äº’æé†’ï¼ŒåŸ¹å…»ç”¨æˆ·å¥åº·ä¹ æƒ¯ |
| **æ­£å‘æ¿€åŠ±** | å¯è§†åŒ–è¿›åº¦è¿½è¸ªï¼Œå½¢æˆç§¯æçš„æ­£å‘åé¦ˆå¾ªç¯ |

### 1.3 åˆ›æ–°äº®ç‚¹

1. **"ä½é¢‘è¾“å…¥ï¼Œé«˜é¢‘å¼•å¯¼"çš„äº¤äº’æ¨¡å¼**ï¼šç”¨æˆ·ä»…éœ€æ¯æœˆä¸€æ¬¡é›†ä¸­æŠ¥å‘Šï¼Œå³å¯è·å¾—é•¿è¾¾30å¤©ã€æŒç»­è°ƒæ•´çš„æ¯æ—¥ä¸“å±æŒ‡å¯¼
2. **åŸºäºæœˆåº¦æ•°æ®çš„åŠ¨æ€é€‚åº”æ€§è§„åˆ’**ï¼šæ–¹æ¡ˆå¹¶éé™æ€ï¼Œä»¥ä¸Šæœˆåº¦æŠ¥å‘Šä¸ºåŸºå‡†è¿›è¡ŒåŠ¨æ€æ¨æ¼”ä¸å¾®è°ƒ
3. **æ·±æ¤è¡Œä¸ºå¿ƒç†å­¦çš„è½»é‡çº§å¹²é¢„**ï¼šèåˆç›®æ ‡æ‹†è§£ã€è¿›åº¦å¯è§†åŒ–å’Œæ¸©å’Œæç¤ºçš„"è½»å¹²é¢„"ä½“ç³»
4. **AIæ™ºèƒ½å¤„ç†**ï¼šç¨‹åºå†…çš„æ•°æ®ç”±æ™ºèƒ½ç¨‹åºè¿›è¡Œå¤„ç†ï¼Œçµæ´»åŒ¹é…ç”¨æˆ·éœ€æ±‚

---

## åŠŸèƒ½ç‰¹æ€§

### 2.1 æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

| æ¨¡å— | åŠŸèƒ½ | æè¿° |
|-----|------|------|
| ğŸ‘¤ **ç”¨æˆ·ç®¡ç†** | æ³¨å†Œ/ç™»å½• | ç”¨æˆ·æ³¨å†Œã€ç™»å½•ï¼Œè‡ªåŠ¨æ³¨å†Œæ–°ç”¨æˆ· |
| | ä¸ªäººä¿¡æ¯ç®¡ç† | ç®¡ç†è®°å½•æ¯ä¸€ä½ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ |
| ğŸ“‹ **å¥åº·æŠ¥å‘Š** | æŠ¥å‘Šæäº¤ | æäº¤åŒ…å«èº«ä½“æŒ‡æ ‡ã€ç”Ÿæ´»ä¹ æƒ¯ã€é¥®é£Ÿåå¥½çš„æ ‡å‡†åŒ–å¥åº·æŠ¥å‘Š |
| | æ•°æ®åˆ†æ | åŸºäºæŠ¥å‘Šç”Ÿæˆä¸ªæ€§åŒ–åˆ†æ |
| ğŸ“… **è®¡åˆ’ç”Ÿæˆ** | æœˆåº¦è®¡åˆ’ | è‡ªåŠ¨ç”Ÿæˆ30å¤©ä¸ªæ€§åŒ–é¥®é£Ÿä¸è¿åŠ¨è®¡åˆ’ |
| | æ¯æ—¥ä»»åŠ¡ | æ¯å¤©çš„å…·ä½“é¥®é£Ÿå»ºè®®ä¸è¿åŠ¨ä»»åŠ¡ |
| ğŸ¥— **é¥®é£Ÿå»ºè®®** | è¥å…»è®¡ç®— | åŸºäºBMRå’Œæ´»åŠ¨æ°´å¹³çš„ä¸ªæ€§åŒ–çƒ­é‡è®¡ç®— |
| | é¤é£Ÿæ¨è | æ—©/åˆ/æ™šé¤åŠåŠ é¤çš„ä¸ªæ€§åŒ–æ¨è |
| ğŸƒ **è¿åŠ¨è®¡åˆ’** | è¿åŠ¨ç±»å‹ | æœ‰æ°§è¿åŠ¨ã€åŠ›é‡è®­ç»ƒã€HIITã€æŸ”éŸ§æ€§è®­ç»ƒç­‰ |
| | å¼ºåº¦è°ƒæ•´ | æ ¹æ®ç”¨æˆ·èº«ä½“çŠ¶å†µæ™ºèƒ½è°ƒæ•´è¿åŠ¨å¼ºåº¦ |
| ğŸ”” **æé†’é€šçŸ¥** | é¤é£Ÿæé†’ | æ—©é¤ã€åˆé¤ã€æ™šé¤å‡†æ—¶æé†’ |
| | è¿åŠ¨æé†’ | è¿åŠ¨ä»»åŠ¡æé†’ä¸ç£ä¿ƒ |
| | æ³¨æ„äº‹é¡¹ | æ¯æ—¥å¥åº·æ³¨æ„äº‹é¡¹æ¨é€ |
| ğŸ“ˆ **æ•°æ®ç»Ÿè®¡** | å®Œæˆåº¦ç»Ÿè®¡ | è®¡åˆ’å®Œæˆç‡ã€é¥®é£Ÿå®Œæˆåº¦ã€è¿åŠ¨å®Œæˆåº¦ |
| | è¶‹åŠ¿åˆ†æ | æ¯æ—¥å®Œæˆè¶‹åŠ¿ã€è¥å…»è¶‹åŠ¿ |
| | è¿ç»­æ‰“å¡ | å½“å‰è¿ç»­å¤©æ•°ã€æœ€é•¿è¿ç»­å¤©æ•°ç»Ÿè®¡ |

### 2.2 åŠŸèƒ½æ¸…å•

- âœ… ç”¨æˆ·æ³¨å†Œä¸ç™»å½•
- âœ… å¼ºåˆ¶ç”¨æˆ·æ³¨å†Œï¼ˆè‡ªåŠ¨æ³¨å†Œï¼‰
- âœ… ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- âœ… ä¸“é—¨çš„å¥åº·æŠ¥å‘Šæäº¤çª—å£
- âœ… æ•°æ®åˆ†æä¸æŠ¥å‘Šç”Ÿæˆ
- âœ… æ¯ä¸€å¤©çš„ä¸ªæ€§åŒ–é¥®é£Ÿå»ºè®®
- âœ… æ¯ä¸€å¤©çš„è¿åŠ¨è®¡åˆ’ç”Ÿæˆ
- âœ… æ¯ä¸€å¤©çš„ä¸ªæ€§åŒ–æé†’ä¸é€šçŸ¥

---

## æŠ€æœ¯æ¶æ„

### 3.1 æŠ€æœ¯æ ˆ

#### å‰ç«¯ï¼ˆDesktopï¼‰
- **JavaFX** - Windowsæ¡Œé¢åº”ç”¨æ¡†æ¶
- **HTML/CSS/JavaScript** - Webç•Œé¢æ¸²æŸ“
- **WebView** - åœ¨JavaFXä¸­åµŒå…¥Webå†…å®¹

#### åç«¯
- **Java 17** - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å’Œæ•°æ®æŒä¹…åŒ–
- **Python 3.x** - æ™ºèƒ½æ•°æ®åˆ†æä¸ç®—æ³•ç”Ÿæˆ
- **SQLite** - æœ¬åœ°è½»é‡çº§æ•°æ®åº“

#### æ•°æ®å¤„ç†
- **pandas/numpy** - Pythonæ•°æ®å¤„ç†
- **Gson** - Java JSONå¤„ç†
- **sqlite-jdbc** - Javaæ•°æ®åº“è¿æ¥

### 3.2 ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯è¡¨ç°å±‚                               â”‚
â”‚              JavaFX WebView / HTML/CSS/JS                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Java Service Layer                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   UserService  â”‚  HealthReport  â”‚ PlanGeneration â”‚      â”‚
â”‚  â”‚               â”‚    Service     â”‚   Service      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚          â”‚               â”‚               â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   UserDAO     â”‚ â”‚ Health    â”‚ â”‚ Personalizedâ”‚      â”‚
â”‚  â”‚               â”‚ â”‚ ReportDAO â”‚ â”‚ PlanDAO    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚          â”‚               â”‚               â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          Database Connection Pool                   â”‚  â”‚
â”‚  â”‚               SQLite (æœ¬åœ°æ•°æ®åº“)                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ Process IPC (JSON)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Python Engine Core                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Rules Engine â”‚  Health Engine â”‚  API Service   â”‚     â”‚
â”‚  â”‚ (ç§‘å­¦è§„åˆ™åº“)   â”‚  (æ ¸å¿ƒç®—æ³•)    â”‚ (å¯¹å¤–æ¥å£)     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚    âœ“ BMRè®¡ç®—      âœ“ è®¡åˆ’ç”Ÿæˆ       âœ“ JSONåè®®       â”‚
â”‚    âœ“ è¥å…»ç›®æ ‡      âœ“ é¥®é£Ÿå»ºè®®       âœ“ å¥åº·æ£€æŸ¥       â”‚
â”‚    âœ“ å®‰å…¨è§„åˆ™      âœ“ è¿åŠ¨è®¡åˆ’                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 æŠ€æœ¯ä¼˜åŠ¿

1. **å¤šè¯­è¨€ååŒ**ï¼šJavaè´Ÿè´£UIå’Œä¸šåŠ¡é€»è¾‘ï¼ŒPythonè´Ÿè´£æ™ºèƒ½ç®—æ³•ï¼Œå„å–æ‰€é•¿
2. **æœ¬åœ°åŒ–éƒ¨ç½²**ï¼šæ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¿æŠ¤ç”¨æˆ·éšç§
3. **è½»é‡çº§æ¶æ„**ï¼šSQLiteæ— éœ€é¢å¤–æ•°æ®åº“æœåŠ¡ï¼Œå¼€ç®±å³ç”¨
4. **æ˜“äºæ‰©å±•**ï¼šæ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼Œä¾¿äºåç»­åŠŸèƒ½æ‰©å±•

---

## å¿«é€Ÿå¼€å§‹

### 4.1 ç¯å¢ƒè¦æ±‚

| ä¾èµ– | ç‰ˆæœ¬è¦æ±‚ | è¯´æ˜ |
|-----|---------|------|
| Java | 17+ | åç«¯æ ¸å¿ƒè¿è¡Œç¯å¢ƒ |
| Python | 3.8+ | æ™ºèƒ½å¼•æ“è¿è¡Œç¯å¢ƒ |
| Maven | 3.6+ | Javaé¡¹ç›®æ„å»ºå·¥å…· |

### 4.2 å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®

```bash
cd d:/æ·±ä¿¡æœåˆ›æ„æ¯”èµ›
```

#### 2. å®‰è£…Pythonä¾èµ–

```bash
cd backend/python_engine
pip install -r requirements.txt
```

#### 3. ç¼–è¯‘Javaé¡¹ç›®

```bash
cd ../java_core
mvn compile
```

### 4.3 è¿è¡Œé¡¹ç›®

#### æ–¹å¼ä¸€ï¼šåŒæ—¶å¯åŠ¨å‰åç«¯

```bash
cd backend
start.bat
```

#### æ–¹å¼äºŒï¼šåˆ†åˆ«å¯åŠ¨

**å¯åŠ¨åç«¯APIæœåŠ¡å™¨ï¼š**

```bash
cd backend/java_core
mvn exec:java -Dexec.mainClass="com.healthsmart.Main"
```

**å¯åŠ¨å‰ç«¯æ¡Œé¢åº”ç”¨ï¼š**

```bash
cd frontend/java_core
mvn javafx:run
```

### 4.4 æ¼”ç¤ºæ¨¡å¼

è¿è¡Œæ¼”ç¤ºæ¨¡å¼ï¼Œè‡ªåŠ¨æ‰§è¡Œå®Œæ•´æµç¨‹ï¼š

```bash
cd backend/java_core
mvn compile exec:java -Dexec.mainClass="com.healthsmart.Main" -Dexec.args="--demo"
```

æ¼”ç¤ºæµç¨‹ï¼š
1. åˆ›å»ºæµ‹è¯•ç”¨æˆ·
2. ç”¨æˆ·ç™»å½•
3. æäº¤å¥åº·æŠ¥å‘Š
4. ç”Ÿæˆæœˆåº¦ä¸ªæ€§åŒ–è®¡åˆ’
5. æŸ¥çœ‹æ¯æ—¥è®¡åˆ’å†…å®¹
6. æ•°æ®ç»Ÿè®¡åˆ†æ

---

## é¡¹ç›®ç»“æ„

### 5.1 ç›®å½•ç»“æ„

```
æ·±ä¿¡æœåˆ›æ„æ¯”èµ›/
â”œâ”€â”€ README.md                          # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ æ·±ä¿¡æœæ¯”èµ›é¡¹ç›®ç®€ä»‹.txt              # åŸå§‹éœ€æ±‚æ–‡æ¡£
â”‚
â”œâ”€â”€ backend/                           # åç«¯æ¨¡å—
â”‚   â”œâ”€â”€ README.md                      # åç«¯å¼€å‘æ–‡æ¡£
â”‚   â”œâ”€â”€ å¼€å‘æ€»ç»“.md                     # å¼€å‘æ€»ç»“æ–‡æ¡£
â”‚   â”œâ”€â”€ start.bat                      # åç«¯å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ data/                          # æ•°æ®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ healthsmart.db             # SQLiteæ•°æ®åº“ï¼ˆè¿è¡Œåç”Ÿæˆï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ database/                      # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â””â”€â”€ init_db.sql               # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚   â”‚
â”‚   â”œâ”€â”€ java_core/                     # Javaæ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ pom.xml                   # Mavené…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ src/main/java/com/healthsmart/
â”‚   â”‚       â”œâ”€â”€ Main.java              # ä¸»å…¥å£ç±»
â”‚   â”‚       â”œâ”€â”€ ApiServer.java         # REST APIæœåŠ¡å™¨
â”‚   â”‚       â”œâ”€â”€ dao/                   # æ•°æ®è®¿é—®å±‚
â”‚   â”‚       â”‚   â”œâ”€â”€ UserDAO.java
â”‚   â”‚       â”‚   â”œâ”€â”€ HealthReportDAO.java
â”‚   â”‚       â”‚   â”œâ”€â”€ PersonalizedPlanDAO.java
â”‚   â”‚       â”‚   â””â”€â”€ DailyTaskDAO.java
â”‚   â”‚       â”œâ”€â”€ model/                 # æ•°æ®æ¨¡å‹
â”‚   â”‚       â”‚   â”œâ”€â”€ User.java
â”‚   â”‚       â”‚   â”œâ”€â”€ HealthReport.java
â”‚   â”‚       â”‚   â”œâ”€â”€ PersonalizedPlan.java
â”‚   â”‚       â”‚   â””â”€â”€ DailyTask.java
â”‚   â”‚       â”œâ”€â”€ service/               # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚       â”‚   â”œâ”€â”€ UserService.java
â”‚   â”‚       â”‚   â”œâ”€â”€ HealthReportService.java
â”‚   â”‚       â”‚   â”œâ”€â”€ PlanGenerationService.java
â”‚   â”‚       â”‚   â”œâ”€â”€ PythonEngineExecutor.java
â”‚   â”‚       â”‚   â”œâ”€â”€ ReminderService.java
â”‚   â”‚       â”‚   â””â”€â”€ AnalyticsService.java
â”‚   â”‚       â””â”€â”€ util/                  # å·¥å…·ç±»
â”‚   â”‚           â””â”€â”€ DatabaseConnection.java
â”‚   â”‚
â”‚   â””â”€â”€ python_engine/                 # Pythonæ™ºèƒ½å¼•æ“
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ models.py                 # æ•°æ®æ¨¡å‹å®šä¹‰
â”‚       â”œâ”€â”€ rules_engine.py           # è§„åˆ™å¼•æ“
â”‚       â”œâ”€â”€ health_engine.py          # æ ¸å¿ƒç®—æ³•å¼•æ“
â”‚       â”œâ”€â”€ api_service.py            # APIæ¥å£æœåŠ¡
â”‚       â””â”€â”€ requirements.txt          # Pythonä¾èµ–åŒ…
â”‚
â””â”€â”€ frontend/                          # å‰ç«¯æ¨¡å—
    â”œâ”€â”€ java_core/                     # JavaFXæ¡Œé¢åº”ç”¨
    â”‚   â”œâ”€â”€ pom.xml                   # Mavené…ç½®æ–‡ä»¶
    â”‚   â””â”€â”€ src/main/java/com/healthsmart/
    â”‚       â”œâ”€â”€ frontend/
    â”‚       â”‚   â”œâ”€â”€ HealthSmartApp.java    # å‰ç«¯ä¸»åº”ç”¨
    â”‚       â”‚   â”œâ”€â”€ controller/            # æ§åˆ¶å™¨
    â”‚       â”‚   â”‚   â”œâ”€â”€ UserController.java
    â”‚       â”‚   â”‚   â”œâ”€â”€ HealthReportController.java
    â”‚       â”‚   â”‚   â”œâ”€â”€ PlanController.java
    â”‚       â”‚   â”‚   â””â”€â”€ AnalyticsController.java
    â”‚       â”‚   â””â”€â”€ server/
    â”‚       â”‚       â””â”€â”€ ApiServer.java     # åµŒå…¥å¼APIæœåŠ¡å™¨
    â”‚       â””â”€â”€ resources/
    â”‚           â”œâ”€â”€ css/                    # CSSæ ·å¼
    â”‚           â”œâ”€â”€ fxml/                   # FXMLå¸ƒå±€æ–‡ä»¶
    â”‚           â””â”€â”€ web/                    # Webèµ„æº
    â”‚
    â””â”€â”€ web/                          # Webç•Œé¢
        â”œâ”€â”€ index.html                # ä¸»HTMLé¡µé¢
        â”œâ”€â”€ css/
        â”‚   â””â”€â”€ app.css               # ä¸»æ ·å¼æ–‡ä»¶
        â”œâ”€â”€ js/
        â”‚   â””â”€â”€ api.js                # å‰ç«¯APIæ¨¡å—
        â””â”€â”€ images/                   # å›¾ç‰‡èµ„æº
```

### 5.2 æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

#### åç«¯Javaæ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | æè¿° |
|-----|------|
| [`Main.java`](backend/java_core/src/main/java/com/healthsmart/Main.java) | ç¨‹åºä¸»å…¥å£ï¼Œå¯åŠ¨APIæœåŠ¡å™¨ |
| [`UserService.java`](backend/java_core/src/main/java/com/healthsmart/service/UserService.java) | ç”¨æˆ·æœåŠ¡ï¼šæ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯ç®¡ç† |
| [`HealthReportService.java`](backend/java_core/src/main/java/com/healthsmart/service/HealthReportService.java) | å¥åº·æŠ¥å‘ŠæœåŠ¡ï¼šæäº¤ã€æŸ¥è¯¢ã€åˆ†æ |
| [`PlanGenerationService.java`](backend/java_core/src/main/java/com/healthsmart/service/PlanGenerationService.java) | è®¡åˆ’ç”ŸæˆæœåŠ¡ï¼šè°ƒç”¨Pythonå¼•æ“ç”Ÿæˆä¸ªæ€§åŒ–è®¡åˆ’ |
| [`AnalyticsService.java`](backend/java_core/src/main/java/com/healthsmart/service/AnalyticsService.java) | æ•°æ®åˆ†ææœåŠ¡ï¼šç»Ÿè®¡ã€è¶‹åŠ¿ã€è¿›åº¦è¿½è¸ª |
| [`ReminderService.java`](backend/java_core/src/main/java/com/healthsmart/service/ReminderService.java) | æé†’æœåŠ¡ï¼šç”Ÿæˆå’Œç®¡ç†æ¯æ—¥æé†’ |

#### åç«¯Pythonå¼•æ“æ–‡ä»¶

| æ–‡ä»¶ | æè¿° |
|-----|------|
| [`rules_engine.py`](backend/python_engine/rules_engine.py) | è§„åˆ™å¼•æ“ï¼šåŸºäºè†³é£ŸæŒ‡å—çš„è¥å…»å’Œè¿åŠ¨è§„åˆ™åº“ |
| [`health_engine.py`](backend/python_engine/health_engine.py) | æ ¸å¿ƒç®—æ³•ï¼šå¥åº·åˆ†æã€è®¡åˆ’ç”Ÿæˆ |
| [`api_service.py`](backend/python_engine/api_service.py) | APIæœåŠ¡ï¼šå¯¹å¤–æä¾›å‘½ä»¤è¡Œå’ŒJSONæ¥å£ |

#### å‰ç«¯æ–‡ä»¶

| æ–‡ä»¶ | æè¿° |
|-----|------|
| [`HealthSmartApp.java`](frontend/java_core/src/main/java/com/healthsmart/frontend/HealthSmartApp.java) | JavaFXæ¡Œé¢åº”ç”¨ä¸»ç±» |
| [`index.html`](frontend/web/index.html) | ä¸»Webé¡µé¢ |
| [`app.css`](frontend/web/css/app.css) | ç•Œé¢æ ·å¼æ–‡ä»¶ |
| [`api.js`](frontend/web/js/api.js) | å‰ç«¯APIé€šä¿¡æ¨¡å— |

---

## APIæ–‡æ¡£

### 6.1 APIæœåŠ¡å™¨

ç³»ç»Ÿæä¾›REST APIæœåŠ¡å™¨ï¼Œè®¿é—®åœ°å€ï¼š`http://localhost:8080`

### 6.2 ç”¨æˆ·æ¥å£

#### ç”¨æˆ·è®¤è¯ï¼ˆç»Ÿä¸€ï¼‰

**POST** `/api/user?action=auth`

è‡ªåŠ¨è¯†åˆ«æ˜¯æ–°ç”¨æˆ·è¿˜æ˜¯è€ç”¨æˆ·ï¼Œæ–°ç”¨æˆ·è‡ªåŠ¨æ³¨å†Œã€‚

```json
è¯·æ±‚ä½“ï¼š
{
  "username": "test_user",
  "password": "password123",
  "nickname": "æµ‹è¯•ç”¨æˆ·",
  "email": "test@example.com"
}

å“åº”ï¼š
{
  "success": true,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "userId": 1,
    "username": "test_user",
    "nickname": "æµ‹è¯•ç”¨æˆ·"
  }
}
```

#### ç”¨æˆ·ç™»å½•

**POST** `/api/user?action=login`

```json
è¯·æ±‚ä½“ï¼š
{
  "username": "test_user",
  "password": "password123"
}
```

#### ç”¨æˆ·æ³¨å†Œ

**POST** `/api/user?action=register`

```json
è¯·æ±‚ä½“ï¼š
{
  "username": "new_user",
  "password": "password123",
  "email": "new@example.com",
  "nickname": "æ–°ç”¨æˆ·"
}
```

#### è·å–ç”¨æˆ·ä¿¡æ¯

**GET** `/api/user/{userId}`

### 6.3 å¥åº·æŠ¥å‘Šæ¥å£

#### æäº¤å¥åº·æŠ¥å‘Š

**POST** `/api/health-report?action=submit`

```json
è¯·æ±‚ä½“ï¼š
{
  "userId": 1,
  "reportMonth": "2024-01",
  "height": 175,
  "weight": 70,
  "bodyFatRate": 20,
  "systolicPressure": 120,
  "diastolicPressure": 80,
  "sleepHoursAvg": 7.5,
  "sleepQuality": 4,
  "smoking": false,
  "drinking": false,
  "exerciseFrequency": 3,
  "dietaryPreferences": "æ— ç‰¹æ®Šåå¥½",
  "foodAllergies": "èŠ±ç”Ÿ",
  "healthGoal": "lose_weight",
  "targetWeight": 65
}
```

#### è·å–æœ€æ–°æŠ¥å‘Š

**GET** `/api/health-report?action=getLatest&userId=1`

### 6.4 è®¡åˆ’æ¥å£

#### ç”Ÿæˆä¸ªæ€§åŒ–è®¡åˆ’

**POST** `/api/plan?action=generate`

```json
è¯·æ±‚ä½“ï¼š
{
  "userId": 1,
  "reportId": 1
}
```

#### è·å–ä»Šæ—¥è®¡åˆ’

**GET** `/api/plan?action=getToday&userId=1`

### 6.5 æ•°æ®åˆ†ææ¥å£

#### è·å–ä»ªè¡¨ç›˜æ•°æ®

**GET** `/api/analytics/dashboard?userId=1`

#### è·å–ç»Ÿè®¡æ•°æ®

**GET** `/api/analytics/statistics?userId=1&period=week`

### 6.6 æé†’æ¥å£

#### è·å–æé†’åˆ—è¡¨

**GET** `/api/reminders?userId=1&filter=all`

---

## ä½¿ç”¨æŒ‡å—

### 7.1 é¦–æ¬¡ä½¿ç”¨

1. **å¯åŠ¨åº”ç”¨**ï¼šè¿è¡Œ `backend/start.bat` å¯åŠ¨åç«¯æœåŠ¡ï¼Œç„¶åå¯åŠ¨å‰ç«¯åº”ç”¨
2. **æ³¨å†Œè´¦å·**ï¼šåœ¨ç™»å½•ç•Œé¢è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œé¦–æ¬¡ç™»å½•å°†è‡ªåŠ¨æ³¨å†Œ
3. **å¡«å†™å¥åº·æŠ¥å‘Š**ï¼šæäº¤æ‚¨çš„èº«ä½“å¥åº·æ•°æ®ï¼ŒåŒ…æ‹¬èº«é«˜ã€ä½“é‡ã€è¡€å‹ã€ç¡çœ ç­‰
4. **ç”Ÿæˆè®¡åˆ’**ï¼šç³»ç»Ÿå°†åŸºäºæ‚¨çš„å¥åº·æ•°æ®ç”Ÿæˆ30å¤©çš„ä¸ªæ€§åŒ–è®¡åˆ’
5. **æ¯æ—¥æ‰§è¡Œ**ï¼šæŒ‰ç…§æ¯æ—¥è®¡åˆ’æ‰§è¡Œä»»åŠ¡ï¼Œå®Œæˆåæ ‡è®°å®Œæˆ
6. **æŸ¥çœ‹ç»Ÿè®¡**ï¼šé€šè¿‡æ•°æ®ç»Ÿè®¡é¡µé¢æŸ¥çœ‹è¿›åº¦å’Œè¶‹åŠ¿

### 7.2 å¥åº·æŠ¥å‘Šå¡«å†™è¯´æ˜

| å­—æ®µ | è¯´æ˜ |
|-----|------|
| èº«é«˜ | å˜ç±³ï¼ˆcmï¼‰ |
| ä½“é‡ | å…¬æ–¤ï¼ˆkgï¼‰ |
| ä½“è„‚ç‡ | ç™¾åˆ†æ¯”ï¼ˆ%ï¼‰ |
| è¡€å‹ | æ”¶ç¼©å‹/èˆ’å¼ å‹ï¼ˆmmHgï¼‰ |
| ç¡çœ æ—¶é•¿ | å¹³å‡æ¯å¤©ç¡çœ å°æ—¶æ•° |
| ç¡çœ è´¨é‡ | 1-5çº§è¯„åˆ† |
| å¥åº·ç›®æ ‡ | å‡é‡/å¢è‚Œ/ä¿æŒ/ä¸€èˆ¬å¥åº· |

### 7.3 æ¯æ—¥è®¡åˆ’è¯´æ˜

æ¯æ—¥è®¡åˆ’åŒ…å«ï¼š
- **é¥®é£Ÿå»ºè®®**ï¼šæ—©é¤ã€åˆé¤ã€æ™šé¤ã€åŠ é¤çš„å…·ä½“æ¨è
- **çƒ­é‡ç›®æ ‡**ï¼šæ¯æ—¥åº”æ‘„å…¥çš„çƒ­é‡
- **è¿åŠ¨è®¡åˆ’**ï¼šè¿åŠ¨ç±»å‹ã€æ—¶é•¿ã€å¼ºåº¦
- **æ³¨æ„äº‹é¡¹**ï¼šå½“æ—¥éœ€è¦å…³æ³¨çš„å¥åº·è¦ç‚¹

---

## å¼€å‘æŒ‡å—

### 8.1 æ·»åŠ æ–°åŠŸèƒ½

#### 1. æ·»åŠ æ–°çš„Service

åœ¨ [`backend/java_core/src/main/java/com/healthsmart/service/`](backend/java_core/src/main/java/com/healthsmart/service/) ç›®å½•ä¸‹åˆ›å»ºæ–°çš„Serviceç±»ï¼š

```java
public class NewFeatureService {
    // å®ç°ä¸šåŠ¡é€»è¾‘
}
```

#### 2. æ·»åŠ æ–°çš„APIç«¯ç‚¹

åœ¨ [`ApiServer.java`](backend/java_core/src/main/java/com/healthsmart/ApiServer.java) ä¸­æ·»åŠ æ–°çš„å¤„ç†å™¨ï¼š

```java
class NewFeatureHandler implements HttpHandler {
    @Override
    public void handle(HttpExchange exchange) throws IOException {
        // å¤„ç†è¯·æ±‚
    }
}
```

#### 3. åœ¨å‰ç«¯æ·»åŠ é¡µé¢

1. åœ¨ [`index.html`](frontend/web/index.html) ä¸­æ·»åŠ å¯¼èˆªé¡¹
2. åœ¨JavaScriptä¸­æ·»åŠ é¡µé¢æ¸²æŸ“é€»è¾‘
3. åœ¨CSSä¸­æ·»åŠ å¯¹åº”æ ·å¼

### 8.2 æ•°æ®åº“æ‰©å±•

#### æ·»åŠ æ–°è¡¨

1. åœ¨ [`init_db.sql`](backend/database/init_db.sql) ä¸­æ·»åŠ è¡¨å®šä¹‰
2. åˆ›å»ºå¯¹åº”çš„Modelç±»
3. åˆ›å»ºå¯¹åº”çš„DAOç±»
4. åˆ›å»ºå¯¹åº”çš„Serviceç±»

### 8.3 Pythonå¼•æ“æ‰©å±•

#### æ·»åŠ æ–°è§„åˆ™

åœ¨ [`rules_engine.py`](backend/python_engine/rules_engine.py) ä¸­æ·»åŠ æ–°çš„è§„åˆ™æ–¹æ³•ï¼š

```python
def calculate_new_metric(self, data):
    # å®ç°è®¡ç®—é€»è¾‘
    return result
```

#### æ·»åŠ æ–°çš„åˆ†æç±»å‹

åœ¨ [`health_engine.py`](backend/python_engine/health_engine.py) ä¸­æ·»åŠ æ–°çš„åˆ†ææ–¹æ³•ã€‚

---

## å¸¸è§é—®é¢˜

### Q1: å¯åŠ¨å¤±è´¥ï¼Œç«¯å£è¢«å ç”¨ï¼Ÿ

```bash
# æŸ¥çœ‹å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :8080

# ç»“æŸè¿›ç¨‹ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
taskkill /PID <è¿›ç¨‹ID> /F
```

### Q2: Pythonä¾èµ–å®‰è£…å¤±è´¥ï¼Ÿ

```bash
# ä½¿ç”¨å›½å†…é•œåƒæº
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### Q3: æ•°æ®åº“åˆå§‹åŒ–å¤±è´¥ï¼Ÿ

åˆ é™¤ç°æœ‰çš„æ•°æ®åº“æ–‡ä»¶åé‡æ–°å¯åŠ¨ï¼š
```bash
del backend\data\healthsmart.db
```

### Q4: å‰ç«¯æ— æ³•è¿æ¥åç«¯ï¼Ÿ

1. ç¡®ä¿åç«¯APIæœåŠ¡å™¨å·²å¯åŠ¨ï¼ˆç«¯å£8080ï¼‰
2. æ£€æŸ¥ [`api.js`](frontend/web/js/api.js) ä¸­çš„ `API_BASE` é…ç½®
3. ç¡®è®¤é˜²ç«å¢™å…è®¸æœ¬åœ°è¿æ¥

---

## è´¡çŒ®æŒ‡å—

1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/NewFeature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add NewFeature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/NewFeature`
5. åˆ›å»ºPull Request

---

## é¡¹ç›®ç›®æ ‡ä¸å±•æœ›

### æœ€å°å¯è¡Œäº§å“ï¼ˆMVPï¼‰ç›®æ ‡

åœ¨æ¯”èµ›å‘¨æœŸå†…ï¼Œæˆ‘ä»¬çš„æ ¸å¿ƒç›®æ ‡æ˜¯äº¤ä»˜ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€ä½“éªŒæµç•…çš„æ¡Œé¢ç«¯MVPï¼ŒéªŒè¯"æœˆåº¦è§„åˆ’-æ¯æ—¥å¼•å¯¼"æ ¸å¿ƒæ¨¡å¼çš„å¯è¡Œæ€§ï¼š

1. âœ… **æ ¸å¿ƒæ•°æ®æµç¨‹**ï¼šç”¨æˆ·èƒ½å¤Ÿé€šè¿‡å›¾å½¢ç•Œé¢å®Œæˆç»“æ„åŒ–å¥åº·æŠ¥å‘Šçš„å¡«å†™ä¸æäº¤
2. âœ… **åŸºç¡€æ™ºèƒ½è§„åˆ’**ï¼šé›†æˆPythonç®—æ³•å¼•æ“ï¼ŒåŸºäºå•æ¬¡æŠ¥å‘Šæ•°æ®ç”Ÿæˆ30å¤©ä¸ªæ€§åŒ–è®¡åˆ’
3. âœ… **æ¯æ—¥å¼•å¯¼ä¸äº¤äº’**ï¼šå®ç°ç³»ç»Ÿåå°æœåŠ¡ï¼Œç¨³å®šè§¦å‘æ¯æ—¥æé†’
4. âœ… **è¿›åº¦å¯è§†åŒ–**ï¼šæä¾›æ•°æ®å›¾è¡¨ï¼Œè®©ç”¨æˆ·ç›´è§‚æ„ŸçŸ¥æœˆåº¦è¿›å±•

### é•¿æœŸå‘å±•æ½œåŠ›

1. **AIæ·±åº¦é›†æˆ**ï¼šæ¥å…¥å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä½œä¸ºä¸ªæ€§åŒ–è§„åˆ’å¼•æ“
2. **å¤šç«¯å»¶ä¼¸**ï¼šæ‰©å±•åˆ°ç§»åŠ¨Appå’ŒWebäº‘ç«¯
3. **ç”Ÿæ€æ„å»º**ï¼šå¼•å…¥ç§¯åˆ†ä½“ç³»ã€è½»åº¦ç¤¾äº¤äº’åŠ¨
4. **ç¡¬ä»¶å¯¹æ¥**ï¼šä¸æ™ºèƒ½ç¡¬ä»¶ï¼ˆæ‰‹ç¯ã€ä½“è„‚ç§¤ï¼‰æ•°æ®å¯¹æ¥

---

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

<p align="center">
  <strong>å¥åº·æ™ºæŠ¤ - è®©å¥åº·ç®¡ç†å˜å¾—æ›´ç®€å•</strong>
</p>